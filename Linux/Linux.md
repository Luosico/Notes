# Linux #
## 1、Linux的构成  ##

- Linux内核（Linux kernel）

- GNU工具（一套完整的Unix工具）

- 图形化桌面环境

- 应用软件

  

## 2、根目录结构
**Linux将文件存储在单个目录结构中，这个目录被称为虚拟目录，虚拟目录将安装在PC上的所有存储设备的文件路径纳入单个目录结构中**  

```
- / 		虚拟目录的根目录  
- /bin		二进制目录，存放许多用户级的GNU工具
- /boot		启动目录，存放启动文件
- /dev		设备目录，Linux在这里创建设备节点
- /etc		系统配置文件目录
- /home		主目录，Linux在这里创建用户目录
- /lib		库目录，存放系统和应用程序的库文件
- /media	媒体目录，可移动媒体设备的常用挂载点
- /mnt		挂载目录，另一个可移动媒体设备的常用挂载点
- /opt		可选目录，常用语存放第三方软件包和数据文件
- /proc		进程目录，存放现有硬件及当前进程的相关信息
- /root		root用户的主目录
- /sbin		系统二进制目录，存放许多GNU管理员级工具
- /run		运行目录，存放系统运作时的运行时数据
- /srv		服务目录，存放本地服务的相关文件
- /sys		系统目录，存放系统硬件信息的相关文件
- /tmp		临时目录，可以在该目录中创建和删除临时工作文件
- /usr		用户二进制目录，大量用户级的GNU工具和数据文件都存储在这里
- /var		可变目录，用以存放经常变化的文件，比如日志文件
```



## 3、常用命令

### 目录和文件

```
cd   切换目录，不指定目标路径将切换到用户主目录

pwd  显示shell会话的当前目录

ls   按字母排序显示当前目录下的文件和目录
		-F  区分文件和目录,目录后加了下划线（/） 
		-a  显示隐藏文件，以点号(.)开头
	-R  递归选项，列出当前目录下包含的子目录的文件
			-l  输出每个文件的详细信息
			-i  inode编号，用于标识文件或目录的唯一数字字符串，根据这个字符串进行匹配查找文件，？代表一个字符，*代表零个或多个字符  
```

​	

### 处理文件

```
touch  创建空文件

cp     source destination,若两个参数都是文件名时，将源文件复制成一个以destination命名的新文件；
   如果目标文件存在，将会覆盖，最好在目录名尾部加上 /，若destination是目录，则在复制到该目录下
			  -i   强制shell询问是否覆盖已有文件
			  -R   递归的复制整个目录内的内容，可以使用通配符
```

​	

### 链接文件

```
链接：目录中指向文件真实位置的占位符，分为符号链接和硬链接

符号链接：ln -s file origin_file
		就是实实在在的文件，指向存放在虚拟目录结构中某个地方的另一个文件，他们彼此内容不相同，inode编号和文件大小也不相同，		相当于存放地址；要为一个文件创建符号链接，原始文件必须存在，使用ln命令以及-s选项来创建符号链接 
		
硬链接： ln  file  origin_file
		会创建独立的虚拟文件，包含了原始文件的信息及位置，但它们从根本上而言是同一个件,inode编号和文件大小完全相同
		引用硬链接文件等同于引用源文件；创建硬链接，原始文件也必须实现存在
	只需ln命令就可创建，不需额外参数   ln  file  origin_file
			注意：只能对处于同一存储媒体的文件创建硬链接，不同存储媒体的文件之间只能使用符号链接
```

​	

### 重命名文件（移动）

```
mv  将文件和目录移动到另一个位置或重新命名
		-i  试图覆盖已有文件时会提示
		mv file1 file2,重命名为file2，inode编号和时间戳不变
	mv file  dir/, 移动位置，到dir目录下，inode编号和时间戳不变
			mv dir1/file1  dir2/file2, 重命名+移动位置
```

​	

### 删除文件

```
rm  删除文件，一旦删除，无法找回
		-i  询问是否删除
	-f  不受提示符打扰，强制删除
			-r  目录上使用，递归删除目录中的文件和目录，再删除目录自身（可以删除非空目录和空目录）
```

​	

### 处理目录

```
mkdir   创建目录
		-p  同时创建多个目录和子目录  mkdir dir1/sub_dir dir2
				
	rmdir   删除目录，默认情况只能删除空目录  
```

​	

### 查看文件内容

```
file   查看文件类型，包含文件和目录
	
cat	   显示文本文件内容
		   -n  给所有行加上行号
		   -b  只给有文本的行加上行号
		   -T  清除制表符

more   显示文本文件内容，但会在显示每页数据之后停下来，空格或回车翻页，q退出

less   具有more的功能，支持前后翻动和高级搜索功能，具体 man less 查看，能够识别上下键和上下翻页键

	tail   显示文件最后几行的内容（文件的“尾部”），默认情况下，显示末尾10行
			   -n  修改显示的行数（距文件尾的行数）
			   -f  允许其他进程在使用该文件时查看文件的内容，这是实时查看日志的绝妙方式
	
	head   显示文件开头几行的内容，默认为10行
			   -n  修改显示的行数
```

​	

### 进程

```
ps   显示进程信息，默认只显示当前控制台下的属于当前用户的进程
		 -A  显示所有进程
		 -a  显示除控制进程和无终端进程外的所有进程
		 -N  显示与指定参数不符的所有进程
		 -d  显示除控制进程外的所有进程
		 -e  显示所有进程
		 -l  显示长列表，详细信息
		 -f  显示完整格式的输出
		 --forest  显示子shell间嵌套结构
	
top  实时显示进程信息和系统负载情况	
		 -f  选择对输出进行排序的字段
		 -d  修改轮询间隔
		 -q  退出top

	kill  向命令行中列出的全部PID发送一个TERM（尽可能终止），必须是进程的属主或root用户
			 -s  采取指定操作  kill -s 信号值/信号名 PID
	
	killall  支持通过进程名加上通配符来结束进程
```

​	

### 磁盘

```
挂载：把新的存储媒体放到虚拟目录下

从Linux系统上移除一个可移动设备时，不能直接从系统上移除，而应该先卸载

mount   挂载媒体，默认情况，会输出当前系统上挂载的设备列表，手动挂载需要在root用户下进行

umount  卸载设备
	df      查看所有已挂载磁盘的使用情况
		-h  按照用户易读的形式显示磁盘空间
		du      显示某个特定目录（默认情况下是当前目录）的磁盘使用情况，默认显示当前目录下的所有文件、目录和子目录的磁盘使用情况
				-c  显示所有已列出文件的总的大小
				-h  按易读形式输出，即用K代替千字节，M代替兆字节，G代替吉字节
				-s  显示每个输出参数的总计
```

​	

###  处理数据文件

```
sort  对数据进行排序，不改变源文件，默认情况下，按照会话指定的默认语言的排序规则对文本文件中的数据行排序，会把数字当做字符来执行标准排序
			-n  把数字识别成数字而不是字符，并且按值排序
	
grep [options] pattern [file] 在输入或指定的文件中查找包含匹配指定模式的字符的行，Unix风格的正则表达式
			-v  进行反向搜索，输出不匹配该模式的行
			-n  显示匹配模式的行所在的行号
			-c  显示有多少行含有匹配的模式
			-e  指定多个匹配模式
	
gzip   压缩文件，文件扩展名为 .gz，Linux上最流行的压缩工具

gzcat  查看压缩过的文件文件的内容

gunzip 解压文件

tar function [options] object1 object2 ...   Linux和Unix上最广泛使用的归档工具，用来将文件写道磁带设备上归档，也能把输出写在文件里
			-A  将一个已有tar归档文件追加到另一个已有tar归档文件
			-c  创建一个新的tar归档文件
			-r  追加文件到已有tar归档文件末尾
			-t  列出已有tar归档文件的内容
			-x  从已有tar归档文件中提取文件
			-f  输出结果到文件或设备file
			-z  将输出重定向给gzip命令来压缩文件
			-c  切换到指定目录
			-v  在处理文件时显示文件
			...
```

## 4、设置别名

​	**alias**，在用户目录下的隐藏文件 **.bashrc** 下添加

```shell
# 启动Tomcat
alias TomcatStart='bash /home/tomcat/bin/startup.sh'

#再通过source .bashrc生效
```

